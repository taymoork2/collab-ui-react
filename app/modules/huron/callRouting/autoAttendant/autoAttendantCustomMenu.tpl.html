<!-- AA Custom Menu -->
<div class="aa-menu">
  <table id="aaMenuCustomTable" class="aa-menu-table" ng-show="aaCustom.ui.showCustomMenu">
    <thead>
      <tr>
        <th class="col-md-1 aa-menu-delete-icon-md">
          <a ng-click="aaCustom.deleteMenu(aaCustom.ui.customMenu)">
            <i class="menu-delete-icon-md"></i>
            <span class="sr-only" translate="common.delete"></span>
          </a>
        </th>
        <th class="col-md-1"><!--placeholder--></th>
        <th class="col-md-8">
          <h5 translate="autoAttendant.customMenu"></h5>
          <h5 ng-if="aaCustom.ui.customMenu.entries[0].getUrl()">{{ aaCustom.ui.customMenu.entries[0].getUrl() }}</h5>
        </th>
        <th class="col-md-2">
          <div class="aa-menu-launch-icon">
            <span>
              <a data-toggle="modal" data-backdrop="false" data-target="#aaCustomMenuDialog" ng-click="aaCustom.copyMenuOption(aaCustom.ui.customMenu,aaCustom.ui.customMenu.entries[0])">
                <i class="menu-launch-icon"></i>
                <span class="sr-only" translate="autoAttendant.customEdit"></span>
              </a>
            </span>
          </div>
        </th>
      </tr>
    </thead>
  </table>
</div>
<!-- Custom Menu Modal Dialog -->
<div class="modal" id="aaCustomMenuDialog" tabindex="-1" role="dialog" aria-labelledby="deleteRoomTitle" aria-hidden="true">
  <div class="modal-dialog aa-modal-dialog">
    <div class="modal-content aa-modal-content">
      <div class="modal-header">
        <button id="device-modal-close" type="button" class="close" ng-click="customForm.$setUntouched();cancelDelete()" data-dismiss="modal">
          
          <span class="sr-only" translate="common.close"></span>
        </button>
        <h3 class="modal-title">
          <span translate="autoAttendant.customMenu"></span>
        </h3>
      </div>
      <form role="form" name="customForm" novalidate>
        <div class="modal-body">
          <div class="form-group" ng-class="{ 'has-error has-feedback aa-validation': customForm.urlInput.$touched && customForm.urlInput.$invalid }">
            <label class="control-label" for="urlInput" translate="autoAttendant.customUrl"></label><span class="asterix"> *</span>
            <input name="urlInput" type="url" class="form-control" id="urlInput" size="30" ng-model="aaCustom.customDialogMenuEntry.url" required autofocus placeholder="https://" />
            <span class="form-control-feedback" ng-if="customForm.urlInput.$touched && customForm.urlInput.$error.required" popover-placement="top" popover="{{ 'common.invalidRequired' | translate }}"><i class="icon icon-warning"></i></span>
            <span class="form-control-feedback" ng-if="customForm.urlInput.$touched && customForm.urlInput.$error.url" popover-placement="top" popover="{{ 'common.invalidUrl' | translate }}"><i class="icon icon-warning"></i></span>
            <!-- todo: require https -->
          </div>
          <div class="form-group" ng-class="{ 'has-error has-feedback aa-validation': customForm.usernameInput.$touched && customForm.usernameInput.$invalid }">
            <label class="control-label" for="usernameInput" translate="autoAttendant.userName"></label><span class="asterix"> *</span>
            <input name="usernameInput" type="text" class="form-control" maxlength="20" ng-model="aaCustom.customDialogMenuEntry.username" required placeholder="{{ 'autoAttendant.userNamePlaceholder' | translate }}" />
            <span class="form-control-feedback" ng-if="customForm.usernameInput.$touched && customForm.usernameInput.$error.required" popover-placement="top" popover="{{ 'common.invalidRequired' | translate }}"><i class="icon icon-warning"></i></span>
          </div>
          <div class="form-group" ng-class="{ 'has-error has-feedback aa-validation': customForm.passwordInput.$touched && customForm.passwordInput.$invalid }">
            <label class="control-label" for="passwordInput" translate="autoAttendant.password"></label><span class="asterix"> *</span>
            <input name="passwordInput" type="password" class="form-control" id="passwordInput" ng-model="aaCustom.customDialogMenuEntry.password" required placeholder="{{ 'autoAttendant.passwordPlaceholder' | translate }}" />
            <span class="form-control-feedback" ng-if="customForm.passwordInput.$touched && customForm.passwordInput.$error.required" popover-placement="top" popover="{{ 'common.invalidRequired' | translate }}"><i class="icon icon-warning"></i></span>
          </div>
        </div>
        <div class="modal-footer aa-tooltip">
          <button id="cancelButton" class="btn" type="button" ng-click="customForm.$setUntouched();cancelDelete()" data-dismiss="modal" translate="common.cancel"></button>
          <div class="aa-tooltip-wrapper" tooltip-html-unsafe="{{customForm.$invalid ? ( 'autoAttendant.invalidRequiredFields' | translate ) : '' }}" tooltip-trigger="mouseenter" tooltip-placement="top">
            <button id="aaSaveButton" class="btn btn--primary btn-save" type="submit" ng-click="aaCustom.saveMenuOption(aaCustom.customDialogMenuEntry);customForm.$setUntouched()" data-dismiss="modal" ng-disabled="customForm.$invalid || customForm.$pristine" translate="common.save"></button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
