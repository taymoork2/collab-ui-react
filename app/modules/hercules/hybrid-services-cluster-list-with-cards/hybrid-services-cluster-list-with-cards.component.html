<cs-page-header
  title-name="{{'hercules.fusion.list.title' | translate}}"
  back="true"
  back-url="$ctrl.backState"
  back-aria-label="{{::'common.back' | translate}}">
</cs-page-header>
<cs-page-sub-header >
  <cs-page-sub-header-left>
    <cs-searchfilter filters="$ctrl.filters" set-filter-fn="$ctrl.setFilter(filter)" search-item-fn="$ctrl.searchData(searchStr)" placeholder-text="{{$ctrl.placeholder.name}}" ng-model="$ctrl.placeholder.count" clear-aria-text="{{::'common.clear' | translate}}" search-placeholder-text="{{::'common.search' | translate}}"></cs-searchfilter>
  </cs-page-sub-header-left>
  <cs-page-sub-header-right>
    <button class="btn btn--people"
            type="button"
            translate="hercules.fusion.list.add-resource"
            ng-click="$ctrl.addResource()"></button>
  </cs-page-sub-header-right>
</cs-page-sub-header>
<div class="content-container">
  <div ng-if="$ctrl.loading" class="loading-list">
    <span class="spinner-example--large">
      <i class="icon icon-spinner"></i>
    </span>
  </div>
  <div ng-if="!$ctrl.loading">
    <div>
      <!-- Expressway -->
      <div ng-if="$ctrl.displayedGroups[0].display">
        <h5><span class="h5 remove-margin" translate="hercules.fusion.list.expressway"></span> <span cs-dropdown>
          <button cs-dropdown-toggle class="btn--none dropdown-toggle" aria-label="{{::'common.toggleMenu' | translate}}">
            <i class="icon icon-cog"></i>
          </button>
          <ul cs-dropdown-menu class="dropdown-menu dropdown-primary">
            <li ng-if="$ctrl.hasMultipleReleaseChannelOptions" ng-click="$ctrl.setDefaultReleaseChannel()">
              <a translate="hercules.fusion.list.set-default-release-channel"></a>
            </li>
            <li ng-click="$ctrl.addResourceGroup()"><a translate="hercules.fusion.list.add-resource-group"></a></li>
          </ul>
        </span></h5>
        <p class="no-clusters" ng-if="$ctrl.displayedGroups[0].groups.length === 0 && $ctrl.displayedGroups[0].unassigned.length === 0" translate="hercules.fusion.list.empty"></p>
        <cs-card-layout block-view="true" class="resource-groups-list">
          <hs-resource-group-card ng-repeat="group in $ctrl.displayedGroups[0].groups" resource-group="group" on-change="$ctrl.refreshList()" force-open="$ctrl.openAllGroups"></hs-resource-group-card>
        </cs-card-layout>
        <cs-card-layout block-view="true">
          <hs-cluster-card ng-repeat="cluster in $ctrl.displayedGroups[0].unassigned" cluster="cluster"></hs-cluster-card>
        </cs-card-layout>
      </div>
      <!-- SIP Destinations (Enterprise Private Trunks) -->
      <div ng-if="$ctrl.displayedGroups[5].display">
        <h5 translate="hercules.fusion.list.ept"></h5>
        <p class="no-clusters" ng-if="$ctrl.displayedGroups[5].unassigned.length === 0" translate="hercules.fusion.list.empty-ept"></p>
        <cs-card-layout block-view="true">
          <hs-cluster-card ng-repeat="cluster in $ctrl.displayedGroups[5].unassigned" cluster="cluster"></hs-cluster-card>
        </cs-card-layout>
      </div>
      <!-- Media -->
      <div ng-if="$ctrl.displayedGroups[1].display">
        <h5 translate="hercules.fusion.list.mediafusion"></h5>
        <p class="no-clusters" ng-if="$ctrl.displayedGroups[1].unassigned.length === 0" translate="hercules.fusion.list.empty"></p>
        <cs-card-layout block-view="true">
          <hs-cluster-card ng-repeat="cluster in $ctrl.displayedGroups[1].unassigned" cluster="cluster"></hs-cluster-card>
        </cs-card-layout>
      </div>
      <!-- HDS -->
      <div ng-if="$ctrl.displayedGroups[2].display">
        <h5 translate="hercules.fusion.list.hds"></h5>
        <p class="no-clusters" ng-if="$ctrl.displayedGroups[2].unassigned.length === 0" translate="hercules.fusion.list.empty"></p>
        <cs-card-layout block-view="true">
          <hs-cluster-card ng-repeat="cluster in $ctrl.displayedGroups[2].unassigned" cluster="cluster"></hs-cluster-card>
        </cs-card-layout>
      </div>
      <!-- Context -->
      <div ng-if="$ctrl.displayedGroups[3].display">
        <h5 translate="hercules.fusion.list.context"></h5>
        <p class="no-clusters" ng-if="$ctrl.displayedGroups[3].unassigned.length === 0" translate="hercules.fusion.list.empty"></p>
        <cs-card-layout block-view="true">
          <hs-cluster-card ng-repeat="cluster in $ctrl.displayedGroups[3].unassigned" cluster="cluster"></hs-cluster-card>
        </cs-card-layout>
      </div>
      <!-- UCM -->
      <div ng-if="$ctrl.displayedGroups[4].display">
        <h5 translate="hercules.fusion.list.cucm"></h5>
        <p class="no-clusters" ng-if="$ctrl.displayedGroups[4].unassigned.length === 0" translate="hercules.fusion.list.empty"></p>
        <cs-card-layout block-view="true">
          <hs-cluster-card ng-repeat="cluster in $ctrl.displayedGroups[4].unassigned" cluster="cluster"></hs-cluster-card>
        </cs-card-layout>
      </div>
    </div>

  </div>
</div>
