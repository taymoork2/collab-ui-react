<cs-card-layout class="status">
  <cs-card class="cs-card--medium">
    <article>
      <header>
        <h4 translate="supportPage.cards.sparkStatus"></h4>
      </header>
      <section class="indent">
          <div>
            <div ng-repeat="health in healthMetrics">
              <a ng-href="{{statusPageUrl}}" target="_blank">
                <div id="{{health.name}}">
                   <i class="icon icon-circle status-indicator" ng-class="{unknown:  'disabled', error: 'danger', major_outage: 'danger', warning: 'warning', partial_outage: 'warning', operational: 'success', degraded_performance:'warning'}[health.status]"></i>
                  <span>{{health.name}}</span>
                </div>
              </a>
            </div>
          </div>
      </section>
    </article>
  </cs-card>

  <cs-card id="supportPageToolsCard" class="cs-card--medium" ng-if="showToolsCard()">
    <article>
      <header>
        <h4 translate="supportPage.cards.tools.tools"></h4>
      </header>
      <section class="indent">

        <div ng-if="showHelpdeskLink()">
          <h5 translate="supportPage.cards.tools.helpdeskSupport"></h5>
          <p class="content" translate="supportPage.cards.tools.launchHelpdeskDesc"></p>
          <a target="_blank">
            <button id="toolsCardHelpdeskButton" ng-click="gotoHelpdesk()" class="btn btn--people btn--medium" translate="supportPage.cards.tools.viewHelpdeskSupport"></button>
          </a>
        </div>

        <div ng-if="showOrderProvisioningConsole">
          <br>
          <h5 translate="supportPage.cards.tools.provisioningConsole"></h5>
            <button id="toolsCardHelpdeskButton" ng-click="gotoProvisioningConsole()" class="btn btn--people btn--medium" translate="supportPage.cards.tools.viewProvisioningConsole"></button>
        </div>

        <div ng-if="showEdiscoveryLink()">
          <br>
          <h5 translate="supportPage.cards.tools.ediscovery"></h5>
          <p class="content" translate="supportPage.cards.tools.launchEdicoveryDesc"></p>
          <a target="_blank">
            <button id="toolsCardEdiscoveryButton" ng-click="gotoEdiscovery()" class="btn btn--people btn--medium" translate="supportPage.cards.tools.viewEdiscovery"></button>
          </a>
        </div>

        <div ng-show="showCdrCallFlowLink">
          <br>
          <h5 translate="supportPage.cards.tools.cdrLogs"></h5>
          <p class="content" translate="supportPage.cards.tools.viewCdrCallFlowDesc"></p>
          <a>
            <button id="toolsCardCdrCallFlowButton" ng-click="gotoCdrSupport()" class="btn btn--people btn--medium" translate="supportPage.cards.tools.viewCdrCallFlow"></button>
          </a>
        </div>

        <div ng-if="showPartnerManagementLink">
          <br>
          <h5 translate="supportPage.cards.tools.partnerManagement"></h5>
          <p class="content" translate="supportPage.cards.tools.viewPartnerManagementDesc"></p>
          <div>
            <button id="toolsCardPartnerManagementButton" ng-click="gotoPartnerManagement()" class="btn btn--people btn--medium support-btn" translate="supportPage.cards.tools.viewPartnerManagement"></button>
          </div>
          <div class="support-btn-spacing">
            <button id="toolsCardEditPartnerButton" ng-click="" ng-disabled="true" class="btn btn--people btn--medium support-btn" translate="supportPage.cards.tools.editPartner"></button>
          </div>
        </div>

        <hybrid-call-service-support-section-test-tool ng-if="showHybridCallUserTestTool()"></hybrid-call-service-support-section-test-tool>

      </section>
    </article>
  </cs-card>

  <cs-card class="cs-card--medium">
    <article>
      <header>
        <h4 translate="supportPage.cards.supportResources"></h4>
      </header>
      <section class="indent">
        <h5 translate="supportPage.problemReports"></h5>
        <p class="content" translate="supportPage.problemReportHandling" translate-values="{ handler: problemHandler}"></p>
        <p class="content">
          <span class="support-dsc" translate="supportPage.reportingUrl"></span>
          <a href ng-click="sendFeedback()" ng-show="reportingUrl === null" translate="supportPage.sendFeedback"></a>
          <a href="{{reportingUrl}}" ng-show="reportingUrl !== null" target="_blank">{{reportingUrl}}</a>
        </p>
        <h5 class="content-header" translate="supportPage.help"></h5>
        <p class="content" translate="supportPage.helpContent" translate-values="{ handler: helpHandler}"></p>
        <p class="content">{{'supportPage.helpUrl' | translate}}
          <a href="{{helpUrl}}" target="_blank">{{helpUrl}}</a>
        </p>
      </section>
    </article>
  </cs-card>
</cs-card-layout>
