<div class="helpdesk-details" ng-keyup="helpdeskDeviceCtrl.keyPressHandler($event)" tabindex="1">
  <div class="row head full">
    <div class="columns large-12">
      <a ui-sref="helpdesk.search">
        <i class="icon icon-back icon-lg"></i>
        <span translate="helpdesk.backToSearchResults"></span>
      </a>
    </div>
  </div>

  <div class="row full">
    <div class="columns medium-12">
      <h3 class="display-name ellipsis">{{helpdeskDeviceCtrl.device.displayName}}</h3>

      <div class="row">
        <div class="small-4 medium-3 large-2 columns details-heading">
          <span>{{'helpdesk.type' | translate}}:</span>
        </div>
        <div class="small-8 medium-9 large-10 columns details-value-device">
          <span>
            <img
            ng-if="helpdeskDeviceCtrl.device.image"
            ng-src="{{helpdeskDeviceCtrl.device.image}}"
            style="width: 50px; margin-left: 0.5rem;"
            /> {{helpdeskDeviceCtrl.device.product}}
          </span>
        </div>
      </div>

      <div class="row">
        <div class="small-4 medium-3 large-2 columns details-heading">
          <span>{{'helpdesk.status' | translate}}:</span>
        </div>
        <div class="small-8 medium-9 large-10 columns details-value-device">
          <span><i class="icon icon-circle circle-status-icon" ng-class="helpdeskDeviceCtrl.device.cssColorClass"></i>{{helpdeskDeviceCtrl.device.state.readableState}}</span>
        </div>
      </div>

      <div class="row">
        <div class="small-4 medium-3 large-2 columns details-heading">
          <span>{{'helpdesk.software' | translate}}:</span>
        </div>
        <div class="small-8 medium-9 large-10 columns details-value-device">
          <span ng-if="helpdeskDeviceCtrl.device.software">{{helpdeskDeviceCtrl.device.software}}</span>
          <span ng-if="!helpdeskDeviceCtrl.device.software" translate="helpdesk.unknown"></span>
        </div>
      </div>

      <div class="row">
        <div class="small-4 medium-3 large-2 columns details-heading">
          <span>{{'helpdesk.serial' | translate}}:</span>
        </div>
        <div class="small-8 medium-9 large-10 columns details-value-device">
          <span>{{helpdeskDeviceCtrl.device.serial}}</span>
        </div>
      </div>

      <div class="row">
        <div class="small-4 medium-3 large-2 columns details-heading">
          <span>{{'helpdesk.macAddress' | translate}}:</span>
        </div>
        <div class="small-8 medium-9 large-10 columns details-value-device">
          <span>{{helpdeskDeviceCtrl.device.mac}}</span>
        </div>
      </div>

      <div class="row">
        <div class="small-4 medium-3 large-2 columns details-heading">
          <span>{{'helpdesk.deviceId' | translate}}:</span>
        </div>
        <div class="small-8 medium-9 large-10 columns details-value-device">
          <span>{{helpdeskDeviceCtrl.deviceId}}</span>
        </div>
      </div>

      <div class="row">
        <div class="small-4 medium-3 large-2 columns details-heading">
          <span>{{'helpdesk.placeId' | translate}}:</span>
        </div>
        <div class="small-8 medium-9 large-10 columns details-value-device">
          <span>{{helpdeskDeviceCtrl.device.cisUuid}}</span>
        </div>
      </div>

      <div class="row">
        <div class="small-4 medium-3 large-2 columns details-heading">
          <span>{{'helpdesk.organization' | translate}}:</span>
        </div>
        <div class="small-8 medium-9 large-10 columns details-value-device">
          <span>
            <a ui-sref="helpdesk.org({org:helpdeskDeviceCtrl.org, id:helpdeskDeviceCtrl.org.id})">
              {{helpdeskDeviceCtrl.org.displayName}}
            </a>
          </span>
        </div>
      </div>

      <div class="row" ng-if="helpdeskDeviceCtrl.isAuthorizedForLog()">
        <div class="small-4 medium-3 large-2 columns details-heading">
          <span>{{'helpdesk.lastLog' | translate}}:</span>
        </div>
        <div class="small-8 medium-9 large-10 columns details-value-device">
          <span>
            <a ng-if="helpdeskDeviceCtrl.lastPushedLog" ng-click="helpdeskDeviceCtrl.downloadLog(helpdeskDeviceCtrl.lastPushedLog.filename)">{{helpdeskDeviceCtrl.lastPushedLog.timestamp | date:'yyyy-MM-dd HH:mm':'UTC'}} UTC</a>
          </span>
          <span ng-if="!helpdeskDeviceCtrl.lastPushedLog" translate="helpdesk.noLog"></span>
        </div>
      </div>


      <div class="row" ng-if="helpdeskDeviceCtrl.device.hasIssues">
        <div class="small-4 medium-3 large-2 columns details-heading">
          <span>{{'deviceOverviewPage.issues' | translate}}:</span>
        </div>
      </div>

    </div>
  </div>

  <div class="row full" ng-if="helpdeskDeviceCtrl.device.hasIssues">
    <div class="columns medium-12 info-panel">
      <div style="margin-top: 1rem;">
        <div ng-repeat="event in helpdeskDeviceCtrl.device.diagnosticsEvents" style="padding-bottom: 10px">
          <span>
            <i class="icon icon-circle circle-status-icon helpdesk-red"></i>{{event.type}}
          </span>

          <p>{{event.message}}</p>
        </div>
      </div>
    </div>
  </div>
</div>
