<div class="helpdesk-details" ng-keyup="helpdeskUserCtrl.keyPressHandler($event)">
  <div class="row head full">
    <div class="columns large-12">
      <a ui-sref="helpdesk.search" focus-on>
        <i class="icon icon-back icon-lg"></i>
        <span translate="helpdesk.backToSearchResults"></span>
      </a>
    </div>
  </div>

  <div class="row full" ng-show="::helpdeskOrderCtrl.orderId">
    <div class="helpdesk-orderDetail">
      <div class="orderTitle">
        <h2>{{helpdeskOrderCtrl.orderId}}</h2>
        <h5 ng-if="helpdeskOrderCtrl.accountName">{{::helpdeskOrderCtrl.accountName}}</h5>
        <h5 ng-if="helpdeskOrderCtrl.endCustomerName">{{::helpdeskOrderCtrl.endCustomerName}}</h5>
      </div>
      <hr>
      <div class="row">
        <div class="medium-5 columns details-heading">
          <strong>{{helpdeskOrderCtrl.headingString}}</strong>
        </div>
      </div>

      <div class="row">
        <div class="medium-4 columns details-heading">
          <span translate="helpdesk.webOrderId"></span>
        </div>
        <div class="large-5 columns details-value">
          <span>{{helpdeskOrderCtrl.orderId}}</span>
        </div>
        <div class="large-3 columns details-value">
          <a href ng-if="::helpdeskOrderCtrl.showSetupOrder()"
            ng-click="helpdeskOrderCtrl.launchOrderProcessingClient()"
            translate="helpdesk.setUpOrder"></a>
        </div>
      </div>

      <div class="row">
        <div class="medium-4 columns details-heading">
          <span translate="helpdesk.subscriptionId"></span>
        </div>
        <div class="large-5 columns details-value">
          <span>{{helpdeskOrderCtrl.subscriptionId}}</span>
        </div>
        <div class="large-3">
        </div>
      </div>

      <div class="row">
        <div class="large-4 columns details-heading">
          <span translate="helpdesk.orderProvision"></span>
        </div>
        <div class="large-5 columns details-value">
          <span>{{helpdeskOrderCtrl.provisionTime}}</span>
          <span ng-if="!helpdeskOrderCtrl.provisionTime" translate="helpdesk.awaitingProvDetails"></span>
        </div>
        <div class="large-3">
        </div>
      </div>

      <div class="row" ng-if="::helpdeskOrderCtrl.accountId">
        <div class="large-4 columns details-heading">
          <span translate="helpdesk.accountActivate"></span>
        </div>
        <div class="large-5 columns details-value">
          <span>{{helpdeskOrderCtrl.accountActivationInfo}}</span>
        </div>
        <div class="large-3">
        </div>
      </div>

      <div class="row">
        <div class="large-4 columns details-heading">
          <span translate="helpdesk.companyName"></span>
        </div>
        <div class="large-5 columns details-value" ng-switch="helpdeskOrderCtrl.showOrgDetailsLink()">
          <span ng-switch-when="false">{{helpdeskOrderCtrl.endCustomerName}}</span>
          <a href ng-switch-when="true" ng-click="helpdeskOrderCtrl.goToCustomerPage()">{{helpdeskOrderCtrl.endCustomerName}}</a>
        </div>
        <div class="large-5 columns details-value">
          <span ng-if="!helpdeskOrderCtrl.endCustomerName" translate="common.notAvailable"></span>
        </div>
        <div class="large-3">
        </div>
      </div>

      <div class="row" ng-if="::helpdeskOrderCtrl.customerAdminEmail">
        <div class="large-4 columns details-heading">
          <span translate="helpdesk.adminEmail"></span>
        </div>
        <div class="large-5 columns details-value" ng-show="!helpdeskOrderCtrl.showCustomerEmailEditView">
          <span class="custom-spacing">{{helpdeskOrderCtrl.customerAdminEmail}}</span>
        </div>
        <div class="large-3 columns details-value" ng-if="helpdeskOrderCtrl.canEditResendAdminEmail() && !helpdeskOrderCtrl.showCustomerEmailEditView">
          <a href class="custom-spacing" ng-if="helpdeskOrderCtrl.hasPermissionToEditInfo && helpdeskOrderCtrl.accountActivated !== true" translate="helpdesk.editAdminEmail"
             ng-click="helpdeskOrderCtrl.showEmailEditView(helpdeskOrderCtrl.emailTypes.CUSTOMER)"></a>
          <a href translate="helpdesk.resendAdminEmail" ng-click="helpdeskOrderCtrl.resendAdminEmail(helpdeskOrderCtrl.emailTypes.CUSTOMER)"></a>
          <i
            tooltip-html-unsafe="{{::'helpdesk.resendTooltip' | translate}}"
            tooltip-placement="right"
            tooltip-trigger="mouseenter focus"
            class="icon icon-information icon-lg blue-icon-info"
            tabindex="0"
            aria-label="{{::'helpdesk.resendTooltip' | translate}}">
          </i>
        </div>
        <div class="large-5 columns details-value" ng-show="helpdeskOrderCtrl.showCustomerEmailEditView">
          <input ng-model="helpdeskOrderCtrl.customerAdminEmail" class="edit-box-style custom-spacing">
        </div>
        <div class="large-3 columns details-value" ng-show="helpdeskOrderCtrl.showCustomerEmailEditView">
          <a href class="custom-spacing" translate="common.save" ng-click="helpdeskOrderCtrl.updateAdminEmail(helpdeskOrderCtrl.emailTypes.CUSTOMER)"></a>
          <a href translate="common.cancel" ng-click="helpdeskOrderCtrl.cancelAdminEmailEdit(helpdeskOrderCtrl.emailTypes.CUSTOMER)"></a>
        </div>
      </div>

      <div class="row" ng-if="::helpdeskOrderCtrl.lastProvisioningContact">
        <div class="large-4 columns details-heading">
          <span translate="helpdesk.provisioningContactEmail"></span>
        </div>
        <div class="large-5 columns details-value" ng-show="!helpdeskOrderCtrl.showProvisioningContactEditView">
          <span class="custom-spacing">{{helpdeskOrderCtrl.lastProvisioningContact}}</span>
        </div>
        <div class="large-3 columns details-value" ng-if="helpdeskOrderCtrl.canEditResendProvisioningContact() && !helpdeskOrderCtrl.showProvisioningContactEditView">
          <a href class="custom-spacing"
            translate="helpdesk.editAdminEmail"
            ng-if="helpdeskOrderCtrl.hasPermissionToEditInfo"
            ng-click="helpdeskOrderCtrl.showEmailEditView(helpdeskOrderCtrl.emailTypes.PROVISIONING)">
          </a>
          <a href translate="helpdesk.resendAdminEmail" ng-click="helpdeskOrderCtrl.resendAdminEmail(helpdeskOrderCtrl.emailTypes.PROVISIONING)"></a>
          <i
            tooltip-html-unsafe="{{::'helpdesk.resendTooltip' | translate}}"
            tooltip-placement="right"
            tooltip-trigger="mouseenter focus"
            class="icon icon-information icon-lg blue-icon-info"
            tabindex="0"
            aria-label="{{::'helpdesk.resendTooltip' | translate}}">
          </i>
        </div>
        <div class="large-5 columns details-value" ng-show="helpdeskOrderCtrl.showProvisioningContactEditView">
          <input ng-model="helpdeskOrderCtrl.lastProvisioningContact" class="edit-box-style custom-spacing">
        </div>
        <div class="large-3 columns details-value" ng-show="helpdeskOrderCtrl.showProvisioningContactEditView">
          <a href class="custom-spacing" translate="common.save" ng-click="helpdeskOrderCtrl.updateAdminEmail(helpdeskOrderCtrl.emailTypes.PROVISIONING)"></a>
          <a href translate="common.cancel" ng-click="helpdeskOrderCtrl.cancelAdminEmailEdit(helpdeskOrderCtrl.emailTypes.PROVISIONING)"></a>
        </div>
      </div>

      <div class="row">
        <div class="large-4 columns details-heading">
          <span translate="helpdesk.emailSent"></span>
        </div>
        <div class="large-5 columns details-value" ng-show="!helpdeskOrderCtrl.loadingCustomerEmailUpdate">
          <span>{{helpdeskOrderCtrl.customerEmailSent}}</span>
        </div>
        <div class="large-5 columns details-value">
          <span class="spinner-example--small" ng-show="helpdeskOrderCtrl.loadingCustomerEmailUpdate">
            <i class="icon icon-spinner"></i>
          </span>
        </div>
        <div class="large-3">
        </div>
      </div>

      <div ng-show="::helpdeskOrderCtrl.partnerOrgId">
        <div class="row">
          <div class="medium-5 columns details-heading">
            <span><strong translate="helpdesk.partnerInfo"></strong></span>
          </div>
        </div>

        <div class="row">
          <div class="large-4 columns details-heading">
            <span translate="helpdesk.managedBy"></span>
          </div>
          <div class="large-5 columns details-value">
            <span ng-if="!helpdeskOrderCtrl.partnerOrgId">{{helpdeskOrderCtrl.managedBy}}</span>
            <a ng-href ng-click="helpdeskOrderCtrl.goToPartnerPage()" ng-if="helpdeskOrderCtrl.partnerOrgId">{{helpdeskOrderCtrl.managedBy}}</a>
          </div>
          <div class="large-3">
          </div>
        </div>

        <div class="row">
          <div class="large-4 columns details-heading">
            <span translate="helpdesk.partnerEmail"></span>
          </div>
          <div class="large-5 columns details-value" ng-show="!helpdeskOrderCtrl.showPartnerEmailEditView">
            <span class="custom-spacing">{{helpdeskOrderCtrl.partnerAdminEmail}}</span>
          </div>
          <div class="large-3 columns details-value" ng-show="!helpdeskOrderCtrl.showPartnerEmailEditView">
            <a href class="custom-spacing" translate="helpdesk.editAdminEmail" ng-if="::helpdeskOrderCtrl.hasPermissionToEditInfo"
               ng-click="helpdeskOrderCtrl.showEmailEditView(helpdeskOrderCtrl.emailTypes.PARTNER)"></a>
            <a href translate="helpdesk.resendAdminEmail" ng-click="helpdeskOrderCtrl.resendAdminEmail(helpdeskOrderCtrl.emailTypes.PARTNER)"></a>
            <i
              tooltip-html-unsafe="{{::'helpdesk.resendTooltip' | translate}}"
              tooltip-placement="right"
              tooltip-trigger="mouseenter focus"
              class="icon icon-information icon-lg blue-icon-info"
              tabindex="0"
              aria-label="{{::'helpdesk.resendTooltip' | translate}}">
            </i>
          </div>
          <div class="large-5 columns details-value" ng-show="helpdeskOrderCtrl.showPartnerEmailEditView">
            <input ng-model="helpdeskOrderCtrl.partnerAdminEmail" class="edit-box-style custom-spacing">
          </div>
          <div class="large-3 columns details-value" ng-show="helpdeskOrderCtrl.showPartnerEmailEditView">
            <a href class="custom-spacing" translate="common.save" ng-click="helpdeskOrderCtrl.updateAdminEmail(helpdeskOrderCtrl.emailTypes.PARTNER)"></a>
            <a href translate="common.cancel" ng-click="helpdeskOrderCtrl.cancelAdminEmailEdit(helpdeskOrderCtrl.emailTypes.PARTNER)"></a>
          </div>
          <div class="large-3">
          </div>
        </div>

        <div class="row">
          <div class="large-4 columns details-heading">
            <span>{{'helpdesk.emailSent' | translate}}</span>
          </div>
          <div class="large-5 columns details-value">
            <span ng-show="!helpdeskOrderCtrl.loadingPartnerEmailUpdate">{{helpdeskOrderCtrl.partnerEmailSent}}</span>
            <span class="spinner-example--small" ng-show="helpdeskOrderCtrl.loadingPartnerEmailUpdate">
              <i class="icon icon-spinner"></i>
            </span>
          </div>
          <div class="helpdesk-order-email large-3">
          </div>
        </div>
        <hr>
      </div>

      <div class="row">
        <div class="medium-4 columns details-heading">
          <span translate="helpdesk.debuggingStatus"></span>
        </div>
        <div class="large-5 columns details-value">
          <span>{{helpdeskOrderCtrl.order.orderStatus}}</span>
          <i
            tooltip-html-unsafe="{{::'helpdesk.usedForDebugging' | translate}}"
            aria-label="{{::'helpdesk.usedForDebugging' | translate}}"
            tooltip-placement="right"
            tooltip-trigger="mouseenter focus"
            class="icon icon-information icon-lg blue-icon-info"
            tabindex="0">
          </i>
        </div>
        <div class="large-3">
        </div>
      </div>

    </div>
  </div>
</div>
