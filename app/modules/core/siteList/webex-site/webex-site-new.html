<div ng-form="$ctrl.siteSetupForm">
  <div class="row"
    ng-repeat="site in $ctrl.existingSitesArray track by $index">
    <webex-site-new-display site="site"
      is-show-user-management="true"
      can-remove-site="false"
      index="$index">
    </webex-site-new-display>
  </div>
  <div class="row"
    ng-repeat="site in $ctrl.newSitesArray track by $index">
    <webex-site-new-display site="site"
      is-show-user-management="true"
      on-remove-site="$ctrl.removeSite(index)"
      can-remove-site="true"
      index="$index">
    </webex-site-new-display>
  </div>
  <div class="site-preview">
    <b><div ng-if="$ctrl.siteModel.siteUrl !== ''">{{$ctrl.siteModel.siteUrl}}.webex.com</div></b>
  </div>
  <div class="element-spacing">
    <label>{{:: (($ctrl.sitesArray.length > 0)? 'firstTimeWizard.addAnotherSite': 'firstTimeWizard.siteName') | translate }} </label>
    <div class="row">
      <div class="col-lg-4">
        <div class="cs-input-group"
          ng-class="{'error': $ctrl.error.isError && $ctrl.error.errorType !== $ctrl.siteErrorType.USER_MGMT}">
          <input cs-input
            type="text"
            id="add-webex-site"
            name="add-webex-site"
            cs-input-size="medium-12"
            placeholder="{{::'firstTimeWizard.enterSiteNamePlaceholder' | translate}}"
            ng-change="$ctrl.clearError()"
            ng-model="$ctrl.siteModel.siteUrl">
          <div class="cs-input__messages error-msg-spacing"
            role="alert"
            ng-if="$ctrl.error.isError">
            <div class="message">{{$ctrl.error.errorMsg}}</div>
          </div>
        </div>
      </div>
      <div class="col-lg-4">
        <div class="cs-input-group"
          ng-class="{'error': $ctrl.error.isError && $ctrl.error.errorType === $ctrl.siteErrorType.TIME_ZONE}">
          <cs-select id="selectTimeZone"
            name="selectTimeZone"
            ng-model="$ctrl.siteModel.timezone"
            options="$ctrl.timeZoneOptions"
            placeholder="$ctrl.selectTimeZonePlaceholder"
            ng-change="$ctrl.clearError()">
          </cs-select>
        </div>
      </div>
      <div class="col-lg-4">
        <button ng-click="$ctrl.validateMeetingSite()"
          class="btn--cta"
          translate="common.validate"
          ng-disabled="$ctrl.disableValidateButton"></button>
      </div>
    </div>
    <div>
      <div class="row">
        <h5 translate="firstTimeWizard.userManagement"></h5>
        <div class="col-lg-6 small"><span translate="firstTimeWizard.userManagementWhere"></span></div>
        <div class="col-lg-6">
          <div class="validation-messages info">
            <div class="cs-input__messages">
              <div class="message"><a href="http://www.cisco.com/c/dam/en/us/td/docs/collaboration/webex_centers/esp/Choosing_the_Right_Cisco_WebEx_Admin_Tool.pdf"
                  target="_blank"><span translate="firstTimeWizard.userManagementHelp"></span></a>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-lg-12 element-spacing">
          <div class="cs-radio-group"
            ng-class="{'error': $ctrl.error.isError &&  $ctrl.error.errorType === $ctrl.siteErrorType.USER_MGMT}">
            <input cs-input
              type="radio"
              ng-model="$ctrl.siteModel.setupType"
              ng-change="$ctrl.clearError(1)"
              id="add-webex-users-1"
              name="addWebexUsers1"
              value="undefined"
              ng-change="meetingCtrl.userManagementOptionChange()"
              ng-required="$ctrl.siteModel.siteUrl"
              cs-input-label="{{::'firstTimeWizard.userManagementSpark' | translate }}">
            <input cs-input
              ng-required="$ctrl.siteModel.siteUrl"
              type="radio"
              ng-change="$ctrl.clearError(1)"
              ng-model="$ctrl.siteModel.setupType"
              id="add-webex-users-2"
              name="addWebexUsers2"
              ng-change="meetingCtrl.userManagementOptionChange()"
              value="{{$ctrl.setupTypeLegacy}}"
              cs-input-label="{{::'firstTimeWizard.userManagementWebEx' | translate }}">
            <div class="cs-input__messages error-msg-spacing"
              role="alert"
              ng-if="$ctrl.error.isError && $ctrl.error.errorType === $ctrl.siteErrorType.USER_MGMT">
              <div class="message">{{$ctrl.error.errorMsg}}</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <h5 ng-if="$ctrl.audioPackage">{{:: $ctrl.getSitesAudioPackageDisplay()}}</h5>
</div>
