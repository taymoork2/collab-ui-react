<!-- This is the modal for the enabling SSO window -->
<div id="ssoModalHeader" class="modal-header dialog-header-confirm">
  <button type="button" id="closeSSOModal" class="close" data-dismiss="modal" aria-hidden="true" ng-click="cancel()">&times;</button>
  <h4 class="modal-title" id="modalTitle"><span class="glyphicon glyphicon-edit"></span> {{'ssoModal.title' | translate}}</h4>
</div>

<div id="ssoModalBody" class="modal-body">
  <wizard>

    <wz-step title = "{{'ssoModal.importMetadataTitle' | translate}}">
      <div id="importMetaDiv">
        <span translate="ssoModal.importMetadataDesc" class="ssoDesc"></span>
        <div id="importFileDiv">
          <span translate="ssoModal.IdPFileLabel"></span>
          <input type="file" accept=".xml" ng-model="fileUpText" id="fileToUploadTextHolder" class="fileholder" onchange="angular.element(this).scope().setFile(this)"/>
          <input type="text" class="fileholder" id="fileToUploadText" placeholder="{{'ssoModal.chooseFilePlaceHolder' | translate}}" ng-model="filename" disabled/>
          <input type="file" accept=".xml" ng-model="fileUpBtn" id="fileToUploadBtnHolder" class="btn btn--primary right" onchange="angular.element(this).scope().setFile(this)"/>
          <button class="btn btn--primary right" id="fileToUploadBtn"><span translate="ssoModal.browseBtn"></span></button>
        </div>
        <div>
           <button id="importBtn" class="btn btn--primary pull-right" ng-disabled="!(fileUpText || fileUpBtn)" ng-click="importRemoteIdp()"><span translate="ssoModal.importBtn"></span></button>
        </div>
        <div class="ssoNavBtns">
          <button id="importCancelBtn" class="btn btn--primary pull-left" ng-click="cancel()"><span translate="ssoModal.cancelBtn"></span></button>
          <button id="importNextBtn" type="submit" wz-next class="btn btn--primary pull-left"><span translate="ssoModal.nextBtn"></span></button>
        </div>
      </div>
    </wz-step>

    <wz-step id="exportStep" title="{{'ssoModal.exportMetadataTitle' | translate}}">
      <div id="exportMetaDiv" ng-init="downloadHostedSp()">
        <span translate="ssoModal.exportMetadataDesc1" class="ssoDesc"></span>
        <span translate="ssoModal.exportMetadataDesc2" class="ssoDesc"></span>
        <div>
          <a id="downloadMeta" class="btn btn--primary pull-left" download={{metaFilename}} ng-href="{{url}}"><span translate="ssoModal.downloadMetadataBtn"></span></a>
        </div>
        <div class="ssoNavBtns">
          <button id="exportCancelBtn" class="btn btn--primary pull-left" ng-click="cancel()"><span translate="ssoModal.cancelBtn"></span></button>
          <button id="exportBackBtn" type="submit" wz-previous class="btn btn--primary pull-left"><span translate="ssoModal.backBtn"></span></button>
          <button id="exportNextBtn" type="submit" wz-next class="btn btn--primary pull-left"><span translate="ssoModal.nextBtn"></span></button>
        </div>
      </div>
    </wz-step>

    <wz-step title="{{'ssoModal.testSSOSetupTitle' | translate}}">
      <div id="testSSODiv">
        <span translate="ssoModal.testSSOSetupDesc" class="ssoDesc"></span>
        <div>
          <button class="btn btn--primary pull-left" id="ssoTestBtn" ng-click="openTest()"><span translate="ssoModal.launchSSOTestBtn"></span></button>
        </div>
        <div class="ssoNavBtns">
          <button id="testssoCancelBtn" class="btn btn--primary pull-left" ng-click="cancel()"><span translate="ssoModal.cancelBtn"></span></button>
          <button id="testssoBackBtn" type="submit" wz-previous class="btn btn--primary pull-left"><span translate="ssoModal.backBtn"></span></button>
          <button id="testssoNextBtn" type="submit" wz-next class="btn btn--primary pull-left"><span translate="ssoModal.nextBtn"></span></button>
        </div>
      </div>
    </wz-step>

    <wz-step title="{{'ssoModal.enableSSOTitle' | translate}}">
      <div id="enableSSODiv">
        <span translate="ssoModal.enableSSODesc" class="ssoDesc"></span>
        <div class="ssoNavBtns">
          <button id="enablessoCancelBtn" class="btn btn--primary pull-left" ng-click="cancel()"><span translate="ssoModal.cancelBtn"></span></button>
          <button id="enablessoBackBtn" type="submit" wz-previous class="btn btn--primary pull-left"><span translate="ssoModal.backBtn"></span></button>
          <button id="enablessoFinishBtn" type="submit" wz-next id="finishBtn" class="btn btn--primary pull-left" ng-click="enableSSO()"><span translate="ssoModal.finishBtn"></span></button>
        </div>
      </div>
    </wz-step>
  </wizard>

</div>

<div id="ssoFooter" class="modal-footer">
</div>
